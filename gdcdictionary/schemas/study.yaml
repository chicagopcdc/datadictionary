$schema: "http://json-schema.org/draft-04/schema#"

id: "study"
title: Study
type: object
namespace: http://cri.uchicago.edu/
category: administrative
program: '*'
project: '*'
description: "Study"
additionalProperties: false
submittable: true
validators: null

systemProperties:
  - id
  - project_id
  - created_datetime
  - updated_datetime
  - state

links:
  - name: subjects
    backref: studys 
    label: of
    target_type: subject
    multiplicity: many_to_one    
    required: true

required:
  - submitter_id
  - subjects

uniqueKeys:
  - [ id ]
  - [ project_id, submitter_id ]

properties:
  type:
    description: "Default system-assigned property for each node"
    enum: [ "study" ]
  id:
    $ref: "_definitions.yaml#/UUID"
    systemAlias: node_id
  submitter_id:
    description: "PCDC internal study record ID"
    type:
      - string
  study_id:
    description: "A sequence of characters used to identify, name, or characterize the study."
    enum:
      - "(HL st jude's trials)"
      - "1883"
      - "3881"
      - "3891"
      - "3951"
      - "461"
      - "4941"
      - "7942"
      - "8105"
      - "8340"
      - "8441"
      - "8605"
      - "8607"
      - "8661"
      - "8671"
      - "8741"
      - "8742"
      - "8743"
      - "8863"
      - "8970"
      - "9000"
      - "9047"
      - "9072"
      - "9075"
      - "9082"
      - "9140"
      - "9243"
      - "9244"
      - "9248"
      - "9262"
      - "9272"
      - "9275"
      - "9280"
      - "9284"
      - "9285"
      - "9340"
      - "9341"
      - "9342"
      - "9343"
      - "9346"
      - "9347"
      - "9360"
      - "9361"
      - "9372"
      - "9375"
      - "9376"
      - "9382"
      - "9464"
      - "9466"
      - "9470"
      - "9571"
      - "9572"
      - "9579"
      - "9581"
      - "9640"
      - "9670"
      - "9675"
      - "9900"
      - "9907"
      - "MTS2008_RMS"
      - "MTS2008_NRSTS"
      - "RMS4.99"
      - 0892
      - 0896
      - 0901
      - 0902
      - 0911
      - 0914
      - 0924
      - 0925
      - 0926
      - 0927
      - 0931
      - 0935
      - 0936
      - 0937
      - 0961
      - 0962
      - 09709
      - 099
      - 321P1
      - 321P2
      - 321P3
      - 321P4
      - 323P
      - 4941L
      - A0935A
      - A09713
      - A3961
      - A3973
      - AADM01P1
      - AALL0232
      - AALL0331
      - AALL03B1
      - AALL0434
      - AALL08B1
      - AAML00P2
      - AAML03P1
      - AAML0531
      - AAML05P1
      - AAML07P1
      - AAML1031
      - AB9804
      - ABTR01B1
      - ABTR04B1
      - ACCL0331
      - ACCL0423
      - ACCL0431
      - ACCL05C1
      - ACCL0934
      - ACCL0935
      - ACCL1031
      - ACCL1032
      - ACCL1034
      - ACCL15N1CD
      - ACCL1633
      - ACCL21C2
      - ACNS02B3
      - ADVL0016
      - ADVL0017
      - ADVL0018
      - ADVL0122
      - ADVL0211
      - ADVL0212
      - ADVL0214
      - ADVL0215
      - ADVL0314
      - ADVL0316
      - ADVL0413
      - ADVL0414
      - ADVL0416
      - ADVL0421
      - ADVL0516
      - ADVL0517
      - ADVL0524
      - ADVL0525
      - ADVL0612
      - ADVL06B1
      - ADVL0714
      - ADVL0812
      - ADVL0813
      - ADVL0816
      - ADVL0821
      - ADVL0911
      - ADVL0912
      - ADVL0916
      - ADVL0918
      - ADVL0921
      - ADVL1011
      - ADVL1013
      - ADVL1014
      - ADVL1111
      - ADVL1112
      - ADVL1115
      - ADVL1211
      - ADVL1212
      - ADVL1213
      - ADVL1312
      - ADVL1314
      - ADVL1315
      - ADVL1411
      - ADVL1412
      - ADVL1414
      - ADVL1416
      - ADVL1513
      - ADVL1522
      - ADVL1615
      - ADVL1622
      - AEIOPAML2002
      - AEPI07N1
      - AEWS0031
      - AEWS0331
      - AEWS07B1
      - AEWS07P1
      - AEWS1031
      - AEWS1221
      - AGCT0132
      - AGCT01P1
      - AGCT0521
      - AGCT1531
      - AHEP1531
      - AHOD0031
      - AHOD03P1
      - AHOD0431
      - AHOD0831
      - AHOD1221
      - AHOD1331
      - AIEOPLAM92
      - ALTE03N1
      - ALTE05N1
      - ALTE15N2
      - ALTE1621
      - AML02
      - AML08
      - AMLBFM2004
      - AMLBFM2012
      - AMLBFMRegistry2012
      - ANBL0032
      - ANBL00B1
      - ANBL00P1
      - ANBL00P2
      - ANBL00P3
      - ANBL02P1
      - ANBL0321
      - ANBL0322
      - ANBL0421
      - ANBL0531
      - ANBL0532
      - ANBL0621
      - ANBL0931
      - ANBL09P1
      - ANBL1021
      - ANBL1221
      - ANBL1232
      - ANBL12P1
      - ANBL1531
      - ANBL17P1
      - ANBL1821
      - ANBL19P1
      - ANUR0631
      - ANUR1131
      - AOST06B1
      - APEC14B1
      - APEC1621E
      - APEC1621F
      - APEC1621H
      - APEC1621I
      - APEC1621SC
      - AREN0321
      - AREN03B2
      - ARST0331
      - ARST0332
      - ARST0431
      - ARST0531
      - ARST08P1
      - ARST1321
      - ARST1431
      - AS942
      - AS972
      - AS9801
      - B003
      - B903
      - B904
      - B925
      - B947
      - B953
      - B954
      - B973
      - cHOD17
      - CWS-IV-2002
      - CWS2002p
      - CWS91
      - CWS96
      - D9501
      - D9602
      - D9802
      - D9803
      - D9902
      - DBAML01
      - "DFCI Registry"
      - E04
      - E15
      - E18
      - EE99
      - ENSG5
      - EICESS92
      - GC1
      - GC2
      - GOG0078
      - GOG0090
      - GOG0116
      - HLHR13
      - HOD05
      - HOD08
      - HOD99
      - I03
      - JACLSAML99
      - JPLSGAML05
      - LNESG1
      - MRCAML12
      - MRCAML15
      - N891
      - NB2004-HR
      - NB2005
      - NB2008
      - NB2012
      - NB84
      - NB8814
      - NB91
      - NB97
      - NOPHOAML2004
      - NOPHOAML2012
      - NRSTS2005
      - P9462
      - P9480
      - P9485
      - P9641
      - P9749
      - P9761
      - P9772
      - P9851
      - P9963
      - P9972
      - PEPN2011
      - PEPN2111
      - POG-8844
      - POG9049
      - PPLLSGAML98
      - ProjectGenESis
      - R9702
      - RMS2005
      - RMS95
      - RMS96
      - S31
      - S901
      - S912
      - S921
      - SCFEELAM02
      - SIOPEN HR-NBL1
      - SIOPEN-EUNB
      - SJCRHAML02
      - TCGM2004
      - TE04
      - TE05
      - TE08
      - TE09
      - TE13
      - TE20
      - TE22
      - TGM85
      - TGM90
      - TGM95
      - TIP
      - X0942
  study_phase:
    description: "Clinical trials are broken into three or four phases: Phase I tests a new drug or treatment for safety in a small group; Phase II expands the study to a larger group of people; Phase III expands the study to an even larger group of people to measure whether the treatment actually benefits patients, and whether its benefits exceed its risks; and Phase IV takes place after the drug or treatment has been licensed and marketed."
    enum:
      - "Pilot"
      - "Phase 1"
      - "Phase 2"
      - "Phase 3"
      - "Unknown"
      - "Not Reported"
  study_type:
    description: "The nature of the investigation or the investigational use for which clinical study is being done."
    enum:
      - "Frontline"
      - "Retrieval"
      - "Unknown"
      - "Not Reported"
  treatment_arm:
    description: "The specific treatment plan(s) within a clinical trial that describe(s) the activities subjects will be involved in as they progress through the study."
    type: array
    items:
      type: string
  age_at_enrollment:
    description: "Age of subject (in days) when the subject enrolled in the study."
    type:
      - number
  year_at_enrollment:
    description: "Year the subject was enrolled"
    type:
      - number
  enrolled_status:
    description: "The current status of the subject's enrollment."
    enum:
      - "Enrolled"
      - "Not Enrolled"


  
  subjects:
    $ref: "_definitions.yaml#/to_one"   
  project_id:
    $ref: "_definitions.yaml#/project_id"
  created_datetime:
    $ref: "_definitions.yaml#/datetime"
  updated_datetime:
    $ref: "_definitions.yaml#/datetime"

  state:
    $ref: "_definitions.yaml#/state"

